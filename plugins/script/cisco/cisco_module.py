# -*- coding: utf-8 -*-
"""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1001 = STRING: "WS-C2960X-48TS-L"
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1002 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1003 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1004 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1005 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1006 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1007 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1008 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1009 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1010 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1011 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1012 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1013 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1014 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1015 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1016 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1017 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1018 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1019 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1020 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1021 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1022 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1023 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1024 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1025 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1026 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1027 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1028 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1029 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1030 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1031 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1032 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1033 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1034 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1035 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1036 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1037 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1038 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1039 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1040 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1041 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1042 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1043 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1044 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1045 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1046 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1047 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1048 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1049 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1050 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1051 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1052 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1053 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1054 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1055 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1056 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1057 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1058 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1059 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1060 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1061 = ""
SNMPv2-SMI::mib-2.47.1.1.1.1.13.1062 = ""
"""
import re


# 型号
def get_cisco_module(data):
    cisco_module_dict = {
        "cisco_module": {}
    }

    # 判断是否真的采集
    if 'No Such' not in data:
        for i in str(data).split('\n'):
            if i:
                serial = re.search(r'mib-2.47.1.1.1.1.13.(\d+)\s+=\s+(.*)', i)
                serial_num = serial.group(1)  # 1061 1062
                serial_sn = serial.group(2)  # WS-C2960X-48TS-L
                if "STRING" in serial_sn:
                    serial_sn = eval(serial_sn.split(' ')[1])
                    one_serial = {serial_num: serial_sn}
                    cisco_module_dict['cisco_module'].update(one_serial)
                    break

    return cisco_module_dict
